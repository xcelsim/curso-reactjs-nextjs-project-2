{"ast":null,"code":"var _jsxFileName = \"/home/joao/git/curso-reactjs-nextjs-project-2/src/components/Posts/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useRef } from 'react';\nimport { PostsContext } from '../../contexts/PostsProvider/context';\nimport { loadPosts } from '../../contexts/PostsProvider/actions';\nimport { CounterContext } from '../../contexts/CounterProvider/context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Posts = () => {\n  _s();\n\n  const isMounted = useRef(true);\n  const postsContext = useContext(PostsContext);\n  const {\n    postsState,\n    postsDispatch\n  } = postsContext;\n  const counterContext = useContext(CounterContext);\n  const {\n    counterState,\n    counterDispatch\n  } = counterContext;\n  useEffect(() => {\n    loadPosts(postsDispatch).then(dispatch => {\n      if (isMounted.current) {\n        dispatch();\n      }\n    });\n    return () => {\n      isMounted.current = false;\n    };\n  }, [postsDispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      children: [\"Counter \", counterState.counter]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"POSTS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), postsState.loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Carregando posts...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this), postsState.posts.map(p => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: p.title\n    }, p.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Posts, \"vt4W3756FYF4YSK2gsVRiNGCUZA=\");\n\n_c = Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"sources":["/home/joao/git/curso-reactjs-nextjs-project-2/src/components/Posts/index.jsx"],"names":["useContext","useEffect","useRef","PostsContext","loadPosts","CounterContext","Posts","isMounted","postsContext","postsState","postsDispatch","counterContext","counterState","counterDispatch","then","dispatch","current","counter","loading","posts","map","p","title","id"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,SAArB,EAAgCC,MAAhC,QAA8C,OAA9C;AACA,SAASC,YAAT,QAA6B,sCAA7B;AACA,SAASC,SAAT,QAA0B,sCAA1B;AACA,SAASC,cAAT,QAA+B,wCAA/B;;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAM;AAAA;;AACzB,QAAMC,SAAS,GAAGL,MAAM,CAAC,IAAD,CAAxB;AACA,QAAMM,YAAY,GAAGR,UAAU,CAACG,YAAD,CAA/B;AACA,QAAM;AAAEM,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAgCF,YAAtC;AAEA,QAAMG,cAAc,GAAGX,UAAU,CAACK,cAAD,CAAjC;AACA,QAAM;AAAEO,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAoCF,cAA1C;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,SAAS,CAACM,aAAD,CAAT,CAAyBI,IAAzB,CAA+BC,QAAD,IAAc;AAC1C,UAAIR,SAAS,CAACS,OAAd,EAAuB;AACrBD,QAAAA,QAAQ;AACT;AACF,KAJD;AAKA,WAAO,MAAM;AACXR,MAAAA,SAAS,CAACS,OAAV,GAAoB,KAApB;AACD,KAFD;AAGD,GATQ,EASN,CAACN,aAAD,CATM,CAAT;AAWA,sBACE;AAAA,4BACE;AAAA,6BAAiBE,YAAY,CAACK,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGGR,UAAU,CAACS,OAAX,iBACC;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAJJ,EASGT,UAAU,CAACU,KAAX,CAAiBC,GAAjB,CAAsBC,CAAD,iBACpB;AAAA,gBAAeA,CAAC,CAACC;AAAjB,OAAQD,CAAC,CAACE,EAAV;AAAA;AAAA;AAAA;AAAA,YADD,CATH;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAeD,CAlCM;;GAAMjB,K;;KAAAA,K","sourcesContent":["import { useContext, useEffect, useRef } from 'react';\nimport { PostsContext } from '../../contexts/PostsProvider/context';\nimport { loadPosts } from '../../contexts/PostsProvider/actions';\nimport { CounterContext } from '../../contexts/CounterProvider/context';\n\nexport const Posts = () => {\n  const isMounted = useRef(true);\n  const postsContext = useContext(PostsContext);\n  const { postsState, postsDispatch } = postsContext;\n\n  const counterContext = useContext(CounterContext);\n  const { counterState, counterDispatch } = counterContext;\n\n  useEffect(() => {\n    loadPosts(postsDispatch).then((dispatch) => {\n      if (isMounted.current) {\n        dispatch();\n      }\n    });\n    return () => {\n      isMounted.current = false;\n    };\n  }, [postsDispatch]);\n\n  return (\n    <div>\n      <button>Counter {counterState.counter}</button>\n      <h1>POSTS</h1>\n      {postsState.loading && (\n        <p>\n          <strong>Carregando posts...</strong>\n        </p>\n      )}\n\n      {postsState.posts.map((p) => (\n        <p key={p.id}>{p.title}</p>\n      ))}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}